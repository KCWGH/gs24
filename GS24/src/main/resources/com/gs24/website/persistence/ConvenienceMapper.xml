<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gs24.website.persistence.ConvenienceMapper">
	<!-- ConvenienceVO와 매핑된 ResultMap -->
    <resultMap type="com.gs24.website.domain.ConvenienceVO" id="ConvenienceResultMap">
        <id property="convenienceId" column="CONVENIENCE_ID"/>
        <result property="ownerId" column="OWNER_ID"/>
        <result property="address" column="ADDRESS"/>
        <result property="isEnabled" column="IS_ENABLED"/>
    </resultMap>
    
    <insert id="insertConvenience">
        <!-- 시퀀스를 사용하는 경우 시퀀스를 통해 ID 자동 증가 -->
        INSERT INTO CONVENIENCE (CONVENIENCE_ID, OWNER_ID)
        VALUES (CONVENIENCE_SEQ.NEXTVAL, #{ownerId})
    </insert>
    
    <select id="selectAllConvenience" resultMap="ConvenienceResultMap">
        SELECT 	CONVENIENCE.CONVENIENCE_ID, 
            	OWNER.OWNER_ID,
            	OWNER.ADDRESS,
            	OWNER.IS_ENABLED
        FROM CONVENIENCE JOIN OWNER ON OWNER.OWNER_ID = CONVENIENCE.OWNER_ID
    </select>
</mapper>